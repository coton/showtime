var app=function(){return{init:function(){app.bind_upload_event(),app.generate_example_qrode(),app.bind_print_qrcode_event()},generate_qrcode:function(e){$("#qrcode").html("");var t=new QRCode("qrcode",{width:200,height:200});t.makeCode(e),setTimeout(function(){$("#download").attr("href",$("#qrcode img").attr("src"))},1e3)},bind_print_qrcode_event:function(){$("#print").click(function(){$("#qrcode").printArea()})},generate_example_qrode:function(){this.generate_qrcode($("#_base_url").val()+"/77ba0f834c6e985697e8779a23f784b4")},bind_upload_event:function(){$("#container").dropzone({url:"/artwork/add",clickable:!0,maxFilesize:20,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},acceptedFiles:".jpg,.png,.gif",init:function(){this.on("addedfile",function(e){$("#artimg").hide(),$(".process").show()}),this.on("uploadprogress",function(e,t){$(".process-rate").html(Math.floor(t)+"%")}),this.on("error",function(e,t,r){$(".process").hide(),$(".process-rate").html(t)}),this.on("success",function(e,t){if(t&&1==t.code)$("#artimg").attr("src",t.url),$(".process-rate").html(""),$("#artimg").fadeIn(),app.generate_qrcode(t.qrurl);else{var r="Upload Failed!";t&&9==t.code&&(app.generate_qrcode(t.qrurl),r="File already exist! Scan the QR Code to check!"),$(".process-rate").html(r)}$(".process").hide()})}})}}}();app.init();